<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Área do Aluno</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>
    <style>
      .blurred {
        filter: blur(5px);
        pointer-events: none;
        user-select: none;
      }
    </style>
  </head>
  <body class="flex bg-black min-h-screen text-white relative">
    <!-- Sidebar -->
    <aside
      id="sidebar"
      class="w-64 bg-[#2e2e30] text-white flex flex-col py-8 px-4 space-y-6 transition-all duration-300"
    >
      <button
        id="toggleSidebar"
        class="text-3xl flex items-center justify-center mb-8 focus:outline-none"
      >
        <ion-icon name="menu-outline"></ion-icon>
      </button>
      <nav class="space-y-4">
        <a
          href="#"
          id="menu-pagina-inicial"
          class="flex items-center space-x-2 hover:text-yellow-400"
        >
          <ion-icon name="home-outline"></ion-icon>
          <span class="menu-text">Página inicial</span>
        </a>
        <a
          href="#"
          id="menu-painel-estudos"
          class="flex items-center space-x-2 hover:text-yellow-400"
        >
          <ion-icon name="book-outline"></ion-icon>
          <span class="menu-text">Painel de estudos</span>
        </a>
        <a
          href="#"
          class="flex items-center space-x-2 hover:text-yellow-400"
        >
          <ion-icon name="notifications-outline"></ion-icon>
          <span class="menu-text">Caixa de entrada</span>
        </a>
        <!-- Botão para reiniciar o diálogo -->
        <a
          href="#"
          id="btnReiniciarDialogo"
          class="flex items-center space-x-2 hover:text-yellow-400"
        >
          <ion-icon name="chatbubble-ellipses-outline"></ion-icon>
          <span class="menu-text">Iniciar diálogo</span>
        </a>
      </nav>
    </aside>

    <!-- Main content -->
    <main id="conteudo" class="flex-1 p-8 text-center">
      <p id="dataAtual" class="text-lg mb-2"></p>
      <h1 class="text-3xl font-bold mb-8">🐵 Bem vindo(a), {{nome_usuario}}!</h1>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 justify-center items-start">
        <!-- Módulo I -->
        <div
          class="bg-yellow-400 text-black p-6 rounded-3xl shadow-lg flex flex-col items-center"
        >
          <h2 class="text-xl font-bold underline mb-4">MÓDULO I</h2>
          <ul class="text-left space-y-1 mb-4">
            <li>introdução à algoritmos;</li>
            <li>operadores;</li>
            <li>condicional;</li>
            <li>repetição;</li>
          </ul>
          <ul class="text-left list-disc pl-5">
            <li>material teórico</li>
            <li>exercícios</li>
          </ul>
        </div>

        <!-- Módulo II -->
        <div
          class="bg-yellow-400 text-black p-6 rounded-3xl shadow-lg flex flex-col items-center"
        >
          <h2 class="text-xl font-bold underline mb-4">MÓDULO II</h2>
          <ul class="text-left space-y-1 mb-4">
            <li>vetores;</li>
            <li>strings;</li>
            <li>manipulação de strings;</li>
            <li>matrizes;</li>
          </ul>
          <ul class="text-left list-disc pl-5">
            <li>material teórico</li>
            <li>exercícios</li>
          </ul>
        </div>

        <!-- Módulo III -->
        <div
          class="bg-yellow-400 text-black p-6 rounded-3xl shadow-lg flex flex-col items-center"
        >
          <h2 class="text-xl font-bold underline mb-4">MÓDULO III</h2>
          <ul class="text-left space-y-1 mb-4">
            <li>funções;</li>
            <li>struct;</li>
            <li>ponteiros;</li>
            <li>depuração;</li>
          </ul>
          <ul class="text-left list-disc pl-5">
            <li>material teórico</li>
            <li>exercícios</li>
          </ul>
        </div>
      </div>
    </main>

    <!-- Modal 1 -->
    <div
      id="dialogo1"
      class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50"
    >
      <div class="bg-white text-black p-8 rounded-3xl flex flex-col items-center max-w-lg">
        <p class="mb-4 text-center">
          Precisamos da sua ajuda, mas para isso antes vamos realizar um treinamento para te transformar em um agente especializado em programação de linguagem C!
        </p>
        <button
          id="btnProximo"
          class="bg-yellow-400 text-black px-6 py-2 rounded-full font-bold hover:bg-yellow-300"
        >
          Próximo
        </button>
      </div>
      <img
        src="/mnt/data/390fed55-e8dc-4a1b-8398-72caf569e9e4.png"
        alt="Macaco"
        class="w-48 ml-6"
      />
    </div>

    <!-- Modal 2 -->
    <div
      id="dialogo2"
      class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50 hidden"
    >
      <div class="bg-white text-black p-8 rounded-3xl flex flex-col items-center max-w-lg">
        <p class="mb-4 text-center">
          Com sua dedicação, você será capaz de desvendar todos os desafios e se tornar um verdadeiro mestre na linguagem C!
        </p>
        <button
          id="btnFechar"
          class="bg-yellow-400 text-black px-6 py-2 rounded-full font-bold hover:bg-yellow-300"
        >
          Vamos começar!
        </button>
      </div>
      <img
        src="/static/img/pcmacacoFundacao.jpeg"
        alt="Macaco"
        class="w-48 ml-6"
      />
    </div>

    <script>
      // Atualiza a data
      const dataEl = document.getElementById("dataAtual");
      const hoje = new Date();
      const options = { weekday: "long", day: "numeric", month: "long" };
      const dataFormatada = hoje.toLocaleDateString("pt-BR", options);
      dataEl.textContent =
        dataFormatada.charAt(0).toUpperCase() + dataFormatada.slice(1);

      // Sidebar toggle
      document
        .getElementById("toggleSidebar")
        .addEventListener("click", function () {
          const sidebar = document.getElementById("sidebar");
          sidebar.classList.toggle("w-64");
          sidebar.classList.toggle("w-16");
          const texts = sidebar.querySelectorAll(".menu-text");
          texts.forEach((text) => text.classList.toggle("hidden"));
        });

      // Blur
      const conteudo = document.getElementById("conteudo");
      const dialogo1 = document.getElementById("dialogo1");
      const dialogo2 = document.getElementById("dialogo2");
      conteudo.classList.add("blurred");

      // Botão próximo
      document.getElementById("btnProximo").addEventListener("click", () => {
        dialogo1.classList.add("hidden");
        dialogo1.style.display = ""; // Resetar

        dialogo2.classList.remove("hidden");
        dialogo2.style.display = "flex"; // Garantir
      });

      // Botão fechar
      document.getElementById("btnFechar").addEventListener("click", () => {
        dialogo2.classList.add("hidden");
        dialogo2.style.display = ""; // Resetar
        conteudo.classList.remove("blurred");
      });

      // Botão sidebar para reiniciar o diálogo
      document.getElementById("btnReiniciarDialogo").addEventListener("click", (e) => {
        e.preventDefault();

        // Resetar dialogo1
        dialogo1.classList.remove("hidden");
        dialogo1.style.display = "flex";

        // Resetar dialogo2
        dialogo2.classList.add("hidden");
        dialogo2.style.display = ""; 

        conteudo.classList.add("blurred");
      });
    </script>
  </body>
</html>
